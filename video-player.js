!function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(r,o,function(e){return t[e]}.bind(null,o));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=7)}([function(t,e,n){(function(t){!function(n,r){"use strict";var o={};n.PubSub=o;var i=n.define;!function(t){var e={},n=-1;function r(t){var e;for(e in t)if(t.hasOwnProperty(e))return!0;return!1}function o(t,e,n){try{t(e,n)}catch(t){setTimeout(function(t){return function(){throw t}}(t),0)}}function i(t,e,n){t(e,n)}function u(t,n,r,u){var c,f=e[n],a=u?i:o;if(e.hasOwnProperty(n))for(c in f)f.hasOwnProperty(c)&&a(f[c],t,r)}function c(t,n,o,i){var c=function(t,e,n){return function(){var r=String(t),o=r.lastIndexOf(".");for(u(t,t,e,n);-1!==o;)o=(r=r.substr(0,o)).lastIndexOf("."),u(t,r,e,n)}}(t="symbol"==typeof t?t.toString():t,n,i);return!!function(t){for(var n=String(t),o=Boolean(e.hasOwnProperty(n)&&r(e[n])),i=n.lastIndexOf(".");!o&&-1!==i;)i=(n=n.substr(0,i)).lastIndexOf("."),o=Boolean(e.hasOwnProperty(n)&&r(e[n]));return o}(t)&&(!0===o?c():setTimeout(c,0),!0)}t.publish=function(e,n){return c(e,n,!1,t.immediateExceptions)},t.publishSync=function(e,n){return c(e,n,!0,t.immediateExceptions)},t.subscribe=function(t,r){if("function"!=typeof r)return!1;t="symbol"==typeof t?t.toString():t,e.hasOwnProperty(t)||(e[t]={});var o="uid_"+String(++n);return e[t][o]=r,o},t.subscribeOnce=function(e,n){var r=t.subscribe(e,(function(){t.unsubscribe(r),n.apply(this,arguments)}));return t},t.clearAllSubscriptions=function(){e={}},t.clearSubscriptions=function(t){var n;for(n in e)e.hasOwnProperty(n)&&0===n.indexOf(t)&&delete e[n]},t.countSubscriptions=function(t){var n,r=0;for(n in e)e.hasOwnProperty(n)&&0===n.indexOf(t)&&r++;return r},t.getSubscriptions=function(t){var n,r=[];for(n in e)e.hasOwnProperty(n)&&0===n.indexOf(t)&&r.push(n);return r},t.unsubscribe=function(n){var r,o,i,u="string"==typeof n&&(e.hasOwnProperty(n)||function(t){var n;for(n in e)if(e.hasOwnProperty(n)&&0===n.indexOf(t))return!0;return!1}(n)),c=!u&&"string"==typeof n,f="function"==typeof n,a=!1;if(!u){for(r in e)if(e.hasOwnProperty(r)){if(o=e[r],c&&o[n]){delete o[n],a=n;break}if(f)for(i in o)o.hasOwnProperty(i)&&o[i]===n&&(delete o[i],a=!0)}return a}t.clearSubscriptions(n)}}(o),"function"==typeof i&&i.amd?i((function(){return o})):(void 0!==t&&t.exports&&(e=t.exports=o),e.PubSub=o,t.exports=e=o)}("object"==typeof window&&window||this)}).call(this,n(2)(t))},function(t,e,n){"use strict";var r=function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if(void 0!==r)return r;throw new Error("unable to locate global object")}();t.exports=e=r.fetch,e.default=r.fetch.bind(r),e.Headers=r.Headers,e.Request=r.Request,e.Response=r.Response},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){"use strict";function r(t,e){!function(t,e){Array.prototype.forEach.call(t,e)}(document.querySelectorAll(t),e)}function o(t){const e=t.match(/(?:https?:\/{2})?(?:w{3}\.)?youtu(?:be)?\.(?:com|be)(?:\/watch\?v=|\/)([^\s&]+)/);return e&&e[1]?e[1]:0}function i(t){const e=t.match(/^.*(vimeo\.com\/)((channels\/[A-z]+\/)|(groups\/[A-z]+\/videos\/))?([0-9]+)/);return e&&e[5]?e[5]:0}n.r(e);var u=n(1),c=n.n(u);let f={youtube:[{name:"poster",func:function(t,e){return"https://i.ytimg.com/vi/"+t+"/"+(e=e||"sddefault")+".jpg"}}],vimeo:[{name:"data",func:function(t){return c()("//vimeo.com/api/v2/video/"+t+".json")}}]};function a(t){let e=!1,n=!1,r=!1;return[{type:"youtube",func:o},{type:"vimeo",func:i}].forEach((function(o){if(!n){let i=o.func(t);i&&(n=i,e=o.type,r=function(t,e){let n=!1;return f[t]&&(n={},f[t].forEach((function(t){n[t.name]=t.func(e)}))),n}(e,n))}})),!!n&&{id:n,meta:r,type:e,url:t}}function s(t,e){let n=document.createElement("div");n.setAttribute("class","o-video-player__poster"),n.setAttribute("style","background-image: url("+e+");"),t.appendChild(n)}let l={youtube:function(t,e){s(t,e.meta.poster),t.defaultInnerHTML=t.innerHTML},vimeo:function(t,e){e.meta.data.catch(t=>{console.error&&console.error(t)}).then(t=>t.json()).then(e=>{s(t,e[0].thumbnail_large),t.defaultInnerHTML=t.innerHTML})}};function p(t,e){return t.classList.contains(e)}let d={youtube:"https://www.youtube-nocookie.com/embed/{id}?autoplay=1",vimeo:"https://player.vimeo.com/video/{id}?autoplay=1"};function y(t,e){d[e.type]&&t.appendChild(function(t){let e=document.createElement("iframe");return e.setAttribute("class","o-video-player__video"),e.setAttribute("width","560"),e.setAttribute("height","315"),e.setAttribute("frameborder","0"),e.setAttribute("allow","accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture"),e.setAttribute("allowfullscreen","allowfullscreen"),e.setAttribute("src",t),e}(d[e.type].replace("{id}",e.id)))}var b=n(0),v=n.n(b);let m=function(t,e){let n=!p(t,"is-activated");!function(t,e,n){t.classList.toggle(e,n)}(t,"is-activated",n),n?(y(t,e),v.a.publish("video-player-played",{el:t,video:e})):t.innerHTML=t.defaultInnerHTML};function h(t,e){t.addEventListener("click",(function(n){!function(t,e,n){p(e,"is-activated")||m(e,n)}(0,t,e)})),v.a.subscribe("video-player-played",(function(n,r){!function(t,e,n,r){if(e.el!==n){let t=p(n,"is-activated");t&&(console.log("isActivated",t),m(n,r))}}(0,r,t,e)}))}function w(){r(".o-video-player",(function(t){if(function(t,e){return e="data-"+(e=e||"processed"),"1"!==t.getAttribute(e)&&(t.setAttribute(e,"1"),!0)}(t)){let e=a(encodeURI(t.getAttribute("data-url")));e&&(window[e.type]=e,console.log(e),function(t,e){l[e.type]&&l[e.type](t,e)}(t,e),h(t,e))}}))}n(3),n(4),n(5),n(6);window.processVideoPlayer=w,w()}]);